{"ast":null,"code":"var _jsxFileName = \"/Users/ebenobiri/rentitghana.github.io/src/screens/Details.js\",\n    _s3 = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { listPosts } from '../graphql/queries';\nimport Amplify, { API, graphqlOperation } from 'aws-amplify';\nimport Carousel from 'react-gallery-carousel';\nimport 'react-gallery-carousel/dist/index.css';\nimport { firebase } from '../firebase';\nimport { usePaystackPayment } from 'react-paystack';\nimport { GoogleAuthProvider } from \"firebase/auth\";\nimport Popup from 'reactjs-popup';\nimport 'reactjs-popup/dist/index.css';\nimport { getAuth, signInWithPopup } from \"firebase/auth\";\nimport { css } from \"@emotion/react\";\nimport SyncLoader from \"react-spinners/SyncLoader\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst override = css`\n  display: block;\n  margin: 0 auto;\n  margin-bottom: 180px;\n  margin-top: 180px;\n`;\nconst provider = new GoogleAuthProvider();\nconst auth = getAuth();\nconst user = auth.currentUser;\nsignInWithPopup(auth, provider).then(result => {\n  // This gives you a Google Access Token. You can use it to access the Google API.\n  const credential = GoogleAuthProvider.credentialFromResult(result);\n  const token = credential.accessToken; // The signed-in user info.\n\n  const user = result.user; // ...\n}).catch(error => {\n  // Handle Errors here.\n  const errorCode = error.code;\n  const errorMessage = error.message;\n  console.log(errorMessage); // The email of the user's account used.\n\n  const email = error.email; // The AuthCredential type that was used.\n\n  const credential = GoogleAuthProvider.credentialFromError(error); // ...\n});\n\nfunction Details() {\n  _s3();\n\n  var _s = $RefreshSig$(),\n      _s2 = $RefreshSig$();\n\n  const [userIn, setUserIn] = useState(true);\n  const location = useLocation();\n  const homeid = location.state.homeid;\n  const [posts, setPosts] = useState();\n  const [months, setMonths] = useState(0);\n  const [years, setYears] = useState(0);\n  const [loading, setLoading] = useState(true);\n\n  const Modal = () => /*#__PURE__*/_jsxDEV(Popup, {\n    trigger: /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"button\",\n      children: \" Open Modal \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 25\n    }, this),\n    modal: true,\n    children: /*#__PURE__*/_jsxDEV(\"span\", {\n      children: \" Modal content \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 9\n  }, this);\n\n  useEffect(() => {\n    const fetchPosts = async () => {\n      try {\n        const postsResult = await API.graphql(graphqlOperation(listPosts));\n        setPosts(postsResult.data.listPosts.items);\n\n        if (loading) {\n          setLoading(false);\n        }\n      } catch (e) {\n        console.log(e);\n      }\n    };\n\n    fetchPosts();\n  }, []);\n\n  if (posts === undefined) {\n    return null;\n  }\n\n  const post = posts.find(place => place.id === homeid);\n  const amount = Math.round(post.newPrice * 1.07);\n  const images = post.images.map((item, index) => ({\n    src: item,\n    index: index\n  }));\n  console.log(images);\n  const mobileMoneyConfig = {\n    reference: new Date().getTime().toString(),\n    email: \"rentitghana@gmail.com\",\n    amount: amount * 100,\n    currency: \"ghs\",\n    channels: [\"mobile_money\"],\n    publicKey: 'pk_live_6869737082c788c90a3ea0df0a62018c57fc6759'\n  };\n  const atmConfig = {\n    reference: new Date().getTime().toString(),\n    email: \"rentitghana@gmail.com\",\n    amount: amount * 100,\n    currency: \"ghs\",\n    channels: [\"card\"],\n    publicKey: 'pk_live_6869737082c788c90a3ea0df0a62018c57fc6759'\n  }; // you can call this function anything\n\n  const onSuccess = reference => {\n    // Implementation for whatever you want to do with reference and after success call.\n    console.log(reference);\n  }; // you can call this function anything\n\n\n  const onClose = () => {\n    // implementation for  whatever you want to do when the Paystack dialog closed.\n    console.log('closed');\n  };\n\n  const PayMobileMoney = () => {\n    _s();\n\n    const initializePayment = usePaystackPayment(mobileMoneyConfig);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"px-6 pt-4 pb-2\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \" bg-black w-full text-xl font-semibold px-2 py-3 rounded-xl bg-blend-color text-white\",\n        onClick: () => {\n          if (user) {\n            initializePayment(onSuccess, onClose);\n          } else {\n            return null;\n          }\n        },\n        children: \"Pay with Mobile Money\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 9\n    }, this);\n  };\n\n  _s(PayMobileMoney, \"YNUHNpL7e5B7w6wSn5JlrU0jBvo=\", false, function () {\n    return [usePaystackPayment];\n  });\n\n  const PayATMCard = () => {\n    _s2();\n\n    const initializePayment = usePaystackPayment(atmConfig);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"px-6 pt-4 pb-2\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \" bg-pink-600 w-full text-xl font-semibold px-2 py-3 rounded-xl bg-blend-color text-white\",\n        onClick: () => {\n          initializePayment(onSuccess, onClose);\n        },\n        children: \"Pay with ATM Card\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }, this);\n  };\n\n  _s2(PayATMCard, \"YNUHNpL7e5B7w6wSn5JlrU0jBvo=\", false, function () {\n    return [usePaystackPayment];\n  });\n\n  if (loading && post === null) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"flex\",\n        children: /*#__PURE__*/_jsxDEV(SyncLoader, {\n          color: \"deeppink\",\n          css: override,\n          size: 12\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 20\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"flex\",\n      children: /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"flex-grow pt-14 px-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"flex text-4xl font-bold mt-2 mb-6\",\n          children: post.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"flex-items-center text-xl font-light mb-4\",\n            children: [post.type, \" | \", post.bed, \" bed | \", post.bedroom, \" bedrooms\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4 rounded-xl\",\n            children: /*#__PURE__*/_jsxDEV(Carousel, {\n              className: \"mb-4\",\n              isLoop: true,\n              isAutoPlaying: true,\n              canAutoPlay: true,\n              hasThumbnails: false,\n              images: images,\n              style: {\n                height: 500,\n                width: 700\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"px-4 py-4 mb-6 max-w-sm rounded-2xl bg-opacity-100 opacity-100 border border-gray-300 mx-10 bg-white  overflow-hidden shadow-2xl\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"px-6 py-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"flex font-bold text-xl mb-2 mt-2\",\n                children: [\"GH\\u20B5 \", Math.round(amount), \" / year\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \" border-b w-100 mb-2\",\n                children: \" \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                class: \"mb-10 flex justify-between text-gray-700 text-base\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"flex text-sm mr-4 font-semibold\",\n                    children: \" How many years\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 197,\n                    columnNumber: 33\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 196,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    onClick: () => setYears(Math.max(0, years - 1)),\n                    className: \"cursor-pointer px-4 ml-4 flex text-md font-semibold rounded-full  bg-pink-white border border-black\",\n                    children: \"-\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 200,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"px-4\",\n                    children: years\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 201,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    onClick: () => setYears(years + 1),\n                    className: \"cursor-pointer px-4 flex text-md font-semibold rounded-full  bg-pink-white border border-black\",\n                    children: \"+\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 202,\n                    columnNumber: 33\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 199,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \" border-b w-100 mb-2 mt-2\",\n                children: \" \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                class: \"mb-10 flex justify-between text-gray-700 text-base\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"flex text-sm mr-4 font-semibold\",\n                    children: \" How many months\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 209,\n                    columnNumber: 33\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 208,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    onClick: () => setMonths(Math.max(0, months - 1)),\n                    className: \"cursor-pointer px-4 ml-4 flex  text-md font-semibold rounded-full  bg-pink-white border border-black\",\n                    children: \"-\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 212,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"px-4\",\n                    children: months\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 213,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    onClick: () => setMonths(months + 1),\n                    className: \"cursor-pointer px-4 flex text-md font-semibold rounded-full  bg-pink-white border border-black\",\n                    children: \"+\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 214,\n                    columnNumber: 33\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 211,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \" border-b w-100 mb-2\",\n                children: \" \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between px-4 py-4 mb-10 border w-full border-black rounded-2xl max-w-full\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Years\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 223,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Months\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 224,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Total\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: years\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: months\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 229,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"GH\\u20B5\", Math.round(amount * (years + months / 12))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 230,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(PayMobileMoney, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(PayATMCard, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 169,\n    columnNumber: 9\n  }, this);\n}\n\n_s3(Details, \"j0X20LXneNt9ymStCJ3iXH4WeWY=\", false, function () {\n  return [useLocation];\n});\n\n_c = Details;\nexport default Details;\n\nvar _c;\n\n$RefreshReg$(_c, \"Details\");","map":{"version":3,"sources":["/Users/ebenobiri/rentitghana.github.io/src/screens/Details.js"],"names":["React","useState","useEffect","useLocation","listPosts","Amplify","API","graphqlOperation","Carousel","firebase","usePaystackPayment","GoogleAuthProvider","Popup","getAuth","signInWithPopup","css","SyncLoader","override","provider","auth","user","currentUser","then","result","credential","credentialFromResult","token","accessToken","catch","error","errorCode","code","errorMessage","message","console","log","email","credentialFromError","Details","userIn","setUserIn","location","homeid","state","posts","setPosts","months","setMonths","years","setYears","loading","setLoading","Modal","fetchPosts","postsResult","graphql","data","items","e","undefined","post","find","place","id","amount","Math","round","newPrice","images","map","item","index","src","mobileMoneyConfig","reference","Date","getTime","toString","currency","channels","publicKey","atmConfig","onSuccess","onClose","PayMobileMoney","initializePayment","PayATMCard","title","type","bed","bedroom","height","width","max"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport { useLocation } from 'react-router-dom';\nimport {listPosts} from '../graphql/queries'\nimport Amplify, { API, graphqlOperation } from 'aws-amplify'\nimport Carousel from 'react-gallery-carousel';\nimport 'react-gallery-carousel/dist/index.css';\nimport {firebase} from '../firebase';\nimport { usePaystackPayment } from 'react-paystack';\nimport { GoogleAuthProvider } from \"firebase/auth\";\nimport Popup from 'reactjs-popup';\nimport 'reactjs-popup/dist/index.css';\n\n\nimport { getAuth, signInWithPopup} from \"firebase/auth\";\nimport { css } from \"@emotion/react\";\nimport SyncLoader from \"react-spinners/SyncLoader\";\n\n\nconst override = css`\n  display: block;\n  margin: 0 auto;\n  margin-bottom: 180px;\n  margin-top: 180px;\n`;\n\nconst provider = new GoogleAuthProvider();\nconst auth = getAuth();\nconst user = auth.currentUser;\nsignInWithPopup(auth, provider)\n  .then((result) => {\n    // This gives you a Google Access Token. You can use it to access the Google API.\n    const credential = GoogleAuthProvider.credentialFromResult(result);\n    const token = credential.accessToken;\n    // The signed-in user info.\n    const user = result.user;\n    // ...\n  }).catch((error) => {\n    // Handle Errors here.\n    const errorCode = error.code;\n    const errorMessage = error.message;\n    console.log(errorMessage);\n    // The email of the user's account used.\n    const email = error.email;\n    // The AuthCredential type that was used.\n    const credential = GoogleAuthProvider.credentialFromError(error);\n    // ...\n  });\n\n\n\n  \n  \nfunction Details() {\n    const [userIn , setUserIn] =  useState(true);\n    \n    \n    const location = useLocation();\n    const homeid = location.state.homeid;\n    const [posts, setPosts] = useState();\n    const [months, setMonths] = useState(0);\n    const [years, setYears] = useState(0);\n    const [loading, setLoading] = useState(true);\n    const Modal = () => (\n        <Popup trigger={<button className=\"button\"> Open Modal </button>} modal>\n          <span> Modal content </span>\n        </Popup>\n      );\n    useEffect ( () => {\n        const fetchPosts = async () => {\n            try{\n                const postsResult = await API.graphql(\n                    graphqlOperation(listPosts)\n                )\n\n                setPosts(postsResult.data.listPosts.items);\n                if(loading){\n                    setLoading(false);\n                }\n            } catch (e){\n                console.log(e);\n            }\n        }\n\n        fetchPosts();\n    }, [])\n    if(posts === undefined){\n        return null;\n    }\n\n\n    const post = posts.find(place => place.id === homeid);\n    const amount = Math.round(post.newPrice * 1.07);\n    const images = post.images.map((item, index) => ({\n        src: item,\n        index: index\n      }));\n      console.log(images);\n\n\n      const mobileMoneyConfig = {\n        reference: (new Date()).getTime().toString(),\n        email: \"rentitghana@gmail.com\",\n        amount: amount*100,\n        currency:\"ghs\",\n        channels: [\"mobile_money\"],\n        publicKey: 'pk_live_6869737082c788c90a3ea0df0a62018c57fc6759',\n    };\n    const atmConfig = {\n        reference: (new Date()).getTime().toString(),\n        email: \"rentitghana@gmail.com\",\n        amount: amount*100,\n        currency:\"ghs\",\n        channels: [\"card\"],\n        publicKey: 'pk_live_6869737082c788c90a3ea0df0a62018c57fc6759',\n    };\n    \n    // you can call this function anything\n    const onSuccess = (reference) => {\n      // Implementation for whatever you want to do with reference and after success call.\n      console.log(reference);\n    };\n  \n    // you can call this function anything\n    const onClose = () => {\n      // implementation for  whatever you want to do when the Paystack dialog closed.\n      console.log('closed')\n    }\n  \n    const PayMobileMoney = () => {\n      const initializePayment = usePaystackPayment(mobileMoneyConfig);\n      return (\n        <div className=\"px-6 pt-4 pb-2\">\n            <button className=\" bg-black w-full text-xl font-semibold\n             px-2 py-3 rounded-xl bg-blend-color text-white\" onClick={() => {\n                if (user){\n                    initializePayment(onSuccess, onClose)\n                }\n                else{\n                    return null;\n                }\n                \n            }}>Pay with Mobile Money</button>\n        </div>\n      );\n  };\n\n  const PayATMCard = () => {\n    const initializePayment = usePaystackPayment(atmConfig);\n    return (\n      <div className=\"px-6 pt-4 pb-2\">\n          <button className=\" bg-pink-600 w-full text-xl font-semibold\n           px-2 py-3 rounded-xl bg-blend-color text-white\" onClick={() => {\n               \n                initializePayment(onSuccess, onClose)\n               \n              \n          }}>Pay with ATM Card</button>\n      </div>\n    );\n};\n    if (loading && post === null){\n            return <div>\n                <main className=\"flex\">\n                <SyncLoader color={\"deeppink\"} css={override}  size={12} />\n                </main>\n            </div>\n        }\n    return (\n        <div>\n            <main className='flex'>\n                <section className=\"flex-grow pt-14 px-6\">\n\n                    <h1 className=\"flex text-4xl font-bold mt-2 mb-6\">{post.title}</h1>\n                    <div className=\"flex justify-between\">\n\n                        <p className=\"flex-items-center text-xl font-light mb-4\">{post.type} | {post.bed} bed | {post.bedroom} bedrooms</p>\n                    </div>\n                    <div className=\"flex justify-between\">\n                        <div className=\"mb-4 rounded-xl\">\n                        <Carousel\n                        className=\"mb-4\"\n                        isLoop={true}\n                        isAutoPlaying={true}\n                        canAutoPlay={true} \n                        hasThumbnails={false}\n                        images={images}\n                        style={{ height: 500, width: 700 }}\n                            /> \n                        </div>\n                \n                <div class=\"px-4 py-4 mb-6 max-w-sm rounded-2xl bg-opacity-100 opacity-100 border border-gray-300 mx-10 bg-white  overflow-hidden shadow-2xl\">\n                    <div class=\"px-6 py-4\">\n                        <div class=\"flex font-bold text-xl mb-2 mt-2\">GH₵ {Math.round(amount)} / year</div>\n                        <div className=\" border-b w-100 mb-2\"> </div>\n                        <p class=\"mb-10 flex justify-between text-gray-700 text-base\">\n                            <div>\n                                <p className=\"flex text-sm mr-4 font-semibold\"> How many years</p>\n                            </div>\n                            <div className=\"flex justify-between\">\n                                <p onClick={() => setYears(Math.max(0, years - 1))} className=\"cursor-pointer px-4 ml-4 flex text-md font-semibold rounded-full  bg-pink-white border border-black\">-</p>\n                                <p className=\"px-4\">{years}</p>\n                                <p onClick={() => setYears (years + 1)} className=\"cursor-pointer px-4 flex text-md font-semibold rounded-full  bg-pink-white border border-black\">+</p>\n                            </div>\n                            \n                        </p>\n                        <div className=\" border-b w-100 mb-2 mt-2\"> </div>\n                        <p class=\"mb-10 flex justify-between text-gray-700 text-base\">\n                            <div>\n                                <p className=\"flex text-sm mr-4 font-semibold\"> How many months</p>\n                            </div>\n                            <div className=\"flex justify-between\">\n                                <p onClick={() => setMonths(Math.max(0, months - 1))} className=\"cursor-pointer px-4 ml-4 flex  text-md font-semibold rounded-full  bg-pink-white border border-black\">-</p>\n                                <p className=\"px-4\">{months}</p>\n                                <p onClick={() => setMonths (months + 1)} className=\"cursor-pointer px-4 flex text-md font-semibold rounded-full  bg-pink-white border border-black\">+</p>\n                            </div>\n                            \n                        </p>\n                        <div className=\" border-b w-100 mb-2\"> </div>\n                    </div>\n\n                    <div className=\"flex justify-between px-4 py-4 mb-10 border w-full border-black rounded-2xl max-w-full\">\n                        <div>\n                            <p>Years</p>\n                            <p>Months</p>\n                            <p>Total</p>\n                        </div>\n                        <div>\n                        <p>{years}</p>\n                        <p>{months}</p>\n                        <p>GH₵{Math.round(amount*(years+(months/12)))}</p>\n                            </div>\n                    </div>\n                    <PayMobileMoney />\n                    <PayATMCard />\n                    \n                    </div>\n                        \n                    </div>\n                \n                \n                </section>\n            </main>\n            \n        </div>\n    )\n}\n\nexport default Details\n"]},"metadata":{},"sourceType":"module"}