{"ast":null,"code":"'use strict';\n\nvar _slicedToArray = require(\"/Users/ebenobiri/rentitweb/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nvar _objectSpread = require(\"/Users/ebenobiri/rentitweb/node_modules/@babel/runtime/helpers/objectSpread2\");\n\nvar isObject = function isObject(value) {\n  return typeof value === 'object' && value !== null;\n};\n\nvar mapObjectSkip = Symbol('skip'); // Customized for this use-case\n\nvar isObjectCustom = function isObjectCustom(value) {\n  return isObject(value) && !(value instanceof RegExp) && !(value instanceof Error) && !(value instanceof Date);\n};\n\nvar mapObject = function mapObject(object, mapper, options) {\n  var isSeen = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : new WeakMap();\n  options = _objectSpread({\n    deep: false,\n    target: {}\n  }, options);\n\n  if (isSeen.has(object)) {\n    return isSeen.get(object);\n  }\n\n  isSeen.set(object, options.target);\n  var _options = options,\n      target = _options.target;\n  delete options.target;\n\n  var mapArray = function mapArray(array) {\n    return array.map(function (element) {\n      return isObjectCustom(element) ? mapObject(element, mapper, options, isSeen) : element;\n    });\n  };\n\n  if (Array.isArray(object)) {\n    return mapArray(object);\n  }\n\n  for (var _i = 0, _Object$entries = Object.entries(object); _i < _Object$entries.length; _i++) {\n    var _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2),\n        key = _Object$entries$_i[0],\n        value = _Object$entries$_i[1];\n\n    var mapResult = mapper(key, value, object);\n\n    if (mapResult === mapObjectSkip) {\n      continue;\n    }\n\n    var _mapResult = _slicedToArray(mapResult, 3),\n        newKey = _mapResult[0],\n        newValue = _mapResult[1],\n        _mapResult$ = _mapResult[2];\n\n    _mapResult$ = _mapResult$ === void 0 ? {} : _mapResult$;\n    var _mapResult$$shouldRec = _mapResult$.shouldRecurse,\n        shouldRecurse = _mapResult$$shouldRec === void 0 ? true : _mapResult$$shouldRec; // Drop `__proto__` keys.\n\n    if (newKey === '__proto__') {\n      continue;\n    }\n\n    if (options.deep && shouldRecurse && isObjectCustom(newValue)) {\n      newValue = Array.isArray(newValue) ? mapArray(newValue) : mapObject(newValue, mapper, options, isSeen);\n    }\n\n    target[newKey] = newValue;\n  }\n\n  return target;\n};\n\nmodule.exports = function (object, mapper, options) {\n  if (!isObject(object)) {\n    throw new TypeError(\"Expected an object, got `\".concat(object, \"` (\").concat(typeof object, \")\"));\n  }\n\n  return mapObject(object, mapper, options);\n};\n\nmodule.exports.mapObjectSkip = mapObjectSkip;","map":{"version":3,"sources":["/Users/ebenobiri/rentitweb/node_modules/map-obj/index.js"],"names":["isObject","value","mapObjectSkip","Symbol","isObjectCustom","RegExp","Error","Date","mapObject","object","mapper","options","isSeen","WeakMap","deep","target","has","get","set","mapArray","array","map","element","Array","isArray","Object","entries","key","mapResult","newKey","newValue","shouldRecurse","module","exports","TypeError"],"mappings":"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","sourcesContent":["'use strict';\n\nconst isObject = value => typeof value === 'object' && value !== null;\nconst mapObjectSkip = Symbol('skip');\n\n// Customized for this use-case\nconst isObjectCustom = value =>\n\tisObject(value) &&\n\t!(value instanceof RegExp) &&\n\t!(value instanceof Error) &&\n\t!(value instanceof Date);\n\nconst mapObject = (object, mapper, options, isSeen = new WeakMap()) => {\n\toptions = {\n\t\tdeep: false,\n\t\ttarget: {},\n\t\t...options\n\t};\n\n\tif (isSeen.has(object)) {\n\t\treturn isSeen.get(object);\n\t}\n\n\tisSeen.set(object, options.target);\n\n\tconst {target} = options;\n\tdelete options.target;\n\n\tconst mapArray = array => array.map(element => isObjectCustom(element) ? mapObject(element, mapper, options, isSeen) : element);\n\tif (Array.isArray(object)) {\n\t\treturn mapArray(object);\n\t}\n\n\tfor (const [key, value] of Object.entries(object)) {\n\t\tconst mapResult = mapper(key, value, object);\n\n\t\tif (mapResult === mapObjectSkip) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tlet [newKey, newValue, {shouldRecurse = true} = {}] = mapResult;\n\n\t\t// Drop `__proto__` keys.\n\t\tif (newKey === '__proto__') {\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (options.deep && shouldRecurse && isObjectCustom(newValue)) {\n\t\t\tnewValue = Array.isArray(newValue) ?\n\t\t\t\tmapArray(newValue) :\n\t\t\t\tmapObject(newValue, mapper, options, isSeen);\n\t\t}\n\n\t\ttarget[newKey] = newValue;\n\t}\n\n\treturn target;\n};\n\nmodule.exports = (object, mapper, options) => {\n\tif (!isObject(object)) {\n\t\tthrow new TypeError(`Expected an object, got \\`${object}\\` (${typeof object})`);\n\t}\n\n\treturn mapObject(object, mapper, options);\n};\n\nmodule.exports.mapObjectSkip = mapObjectSkip;\n"]},"metadata":{},"sourceType":"script"}