{"ast":null,"code":"var _jsxFileName = \"/Users/ebenobiri/rentitghana.github.io/src/screens/SearchPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { listPosts } from '../graphql/queries';\nimport Amplify, { API, graphqlOperation } from 'aws-amplify';\nimport InfoCard from '../components/InfoCard';\nimport SearchMap from '../components/SearchMap';\nimport { css } from \"@emotion/react\";\nimport SyncLoader from \"react-spinners/SyncLoader\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction SearchPage(props) {\n  _s();\n\n  const [posts, setPosts] = useState([]);\n  const [datalist, setDatalist] = useState([]);\n  const location = useLocation();\n  const nelatitude = location.state.nelatitude;\n  const swlatitude = location.state.swlatitude;\n  const nelongitude = location.state.nelongitude;\n  const swlongitude = location.state.swlongitude;\n  const title = location.state.title;\n  let [loading, setLoading] = useState(true);\n  let [color, setColor] = useState(\"#ffffff\");\n  useEffect(() => {\n    const fetchPosts = async () => {\n      try {\n        const postsResult = await API.graphql(graphqlOperation(listPosts, {\n          filter: {\n            and: {\n              latitude: {\n                between: [// Latitude - (0.4/2),\n                // Latitude + (0.4/2),\n                swlatitude, nelatitude //viewport.southwest.lat,\n                //viewport.northeast.lat,\n                ]\n              },\n              longitude: {\n                between: [//   Longitude - (0.4/2),\n                //   Longitude + (0.4/2),\n                //viewport.southwest.lng,\n                //viewport.northeast.lng,\n                swlongitude, nelongitude]\n              }\n            }\n          }\n        }));\n        setPosts(postsResult.data.listPosts.items);\n        setDatalist(postsResult.data.listPosts.items);\n\n        if (loading) {\n          setLoading(false);\n        }\n      } catch (e) {\n        console.log(e);\n      }\n    };\n\n    fetchPosts();\n  }, []);\n\n  const filterList = () => {\n    setDatalist([...posts.filter(category => category.type === \"Full Home\")]);\n  }; //console.log(initialPost.length)\n\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"flex items-center\",\n        children: /*#__PURE__*/_jsxDEV(SyncLoader, {\n          className: \"flex items-center ml-10\",\n          color: \"blue\",\n          size: 15\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 16\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"flex\",\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"flex-grow pt-14 px-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"flex text-4xl font-bold mt-2 mb-6\",\n          children: [datalist.length, \" Homes available for rent,  \", title || '']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex mb-5 space-x-4 text-gray-800 whitespace-nowrap\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            onClick: filterList,\n            className: \"px-4 py-2 border rounded-full cursor-pointer hover:shadow-lg active:scale-95 disa hover:bg-black hover:text-white transition transform duration-100 ease-out\",\n            children: \"Full Home\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"px-4 py-2 border rounded-full cursor-pointer hover:shadow-lg active:scale-95 active:bg-gray-700 transition transform duration-100 hover:bg-black hover:text-white ease-out\",\n            children: \"Self-Contained\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"px-4 py-2 border rounded-full cursor-pointer hover:shadow-lg active:scale-95 active:bg-gray-700 transition transform duration-100 hover:bg-black hover:text-white ease-out\",\n            children: \"Single Room\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"px-4 py-2 border rounded-full cursor-pointer hover:shadow-lg active:scale-95 active:bg-gray-700 transition transform hover:bg-black hover:text-white duration-100 ease-out\",\n            children: \"Entire Flat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"px-4 py-2 border rounded-full cursor-pointer hover:shadow-lg active:scale-95 active:bg-gray-700 transition transform hover:bg-black hover:text-white duration-100 ease-out\",\n            children: \"Apartment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col\",\n          children: datalist === null || datalist === void 0 ? void 0 : datalist.map(_ref => {\n            let {\n              id,\n              oldPrice,\n              bed,\n              bedroom,\n              newPrice,\n              description,\n              image,\n              longitude,\n              latitude,\n              type,\n              title\n            } = _ref;\n            return /*#__PURE__*/_jsxDEV(InfoCard, {\n              image: image,\n              title: title,\n              description: description,\n              longitude: longitude,\n              latitude: latitude,\n              newPrice: newPrice,\n              oldPrice: oldPrice,\n              bed: bed,\n              bedroom: bedroom,\n              id: id,\n              type: type\n            }, id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 15\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"flex\",\n        children: /*#__PURE__*/_jsxDEV(SearchMap, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 9\n  }, this);\n}\n\n_s(SearchPage, \"nqpZlrHok0ILToaOwKgEfnB2XmM=\", false, function () {\n  return [useLocation];\n});\n\n_c = SearchPage;\nexport default SearchPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchPage\");","map":{"version":3,"sources":["/Users/ebenobiri/rentitghana.github.io/src/screens/SearchPage.js"],"names":["React","useEffect","useState","useLocation","listPosts","Amplify","API","graphqlOperation","InfoCard","SearchMap","css","SyncLoader","SearchPage","props","posts","setPosts","datalist","setDatalist","location","nelatitude","state","swlatitude","nelongitude","swlongitude","title","loading","setLoading","color","setColor","fetchPosts","postsResult","graphql","filter","and","latitude","between","longitude","data","items","e","console","log","filterList","category","type","length","map","id","oldPrice","bed","bedroom","newPrice","description","image"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport { useLocation } from 'react-router-dom';\nimport {listPosts} from '../graphql/queries'\nimport Amplify, { API, graphqlOperation } from 'aws-amplify'\nimport InfoCard from '../components/InfoCard';\nimport SearchMap from '../components/SearchMap';\nimport { css } from \"@emotion/react\";\nimport SyncLoader from \"react-spinners/SyncLoader\";\n\n\n\n\nfunction SearchPage(props) {\n    const[posts, setPosts] = useState([]);\n    const[datalist, setDatalist] = useState([])\n    const location = useLocation();\n    const nelatitude = location.state.nelatitude;\n    const swlatitude = location.state.swlatitude;\n    const nelongitude = location.state.nelongitude;\n    const swlongitude = location.state.swlongitude;\n    const title = location.state.title;\n    let [loading, setLoading] = useState(true);\n    let [color, setColor] = useState(\"#ffffff\");\n\n\n\n    useEffect ( () => {\n    const fetchPosts = async () => {\n        try{\n            const postsResult = await API.graphql(\n                graphqlOperation(listPosts, {\n\n                    filter: {\n                        and: {\n                            \n                            latitude: {\n                                between: [\n                                    // Latitude - (0.4/2),\n                                    // Latitude + (0.4/2),\n                                    \n                                    swlatitude,\n                                    nelatitude,\n                                    //viewport.southwest.lat,\n                                    //viewport.northeast.lat,\n                                ],\n                            },\n                            longitude: {\n                                between: [\n                                  \n                                //   Longitude - (0.4/2),\n                                //   Longitude + (0.4/2),\n                                    //viewport.southwest.lng,\n                                    //viewport.northeast.lng,\n                                    \n                                    swlongitude,\n                                    nelongitude,\n                                ],\n                            }\n                        }\n                        \n                    }\n                \n            })\n            )\n\n            setPosts(postsResult.data.listPosts.items);\n            setDatalist(postsResult.data.listPosts.items);\n            if(loading){\n                setLoading(false);\n            }\n        } catch (e){\n            console.log(e);\n        }\n    }\n\n    fetchPosts();\n}, [])\n\nconst filterList = () => {\n    setDatalist([...posts.filter(category => category.type === \"Full Home\")])\n    \n}\n//console.log(initialPost.length)\n    if (loading){\n        return <div>\n            <main className=\"flex items-center\">\n            <SyncLoader className=\"flex items-center ml-10\" color={\"blue\"}  size={15} />\n            </main>\n        </div>\n    }\n    return (\n        <div>\n            <main className='flex'>\n                <section className=\"flex-grow pt-14 px-6\">\n\n                    <h1 className=\"flex text-4xl font-bold mt-2 mb-6\">{datalist.length} Homes available for rent,  { title || ''}</h1>\n                \n                <div className=\"flex mb-5 space-x-4 text-gray-800 whitespace-nowrap\">\n                    <p onClick={filterList} className=\"px-4 py-2 border rounded-full cursor-pointer\n                    hover:shadow-lg active:scale-95 disa hover:bg-black hover:text-white transition transform\n                    duration-100 ease-out\">Full Home</p>\n\n                    <p className=\"px-4 py-2 border rounded-full cursor-pointer\n                    hover:shadow-lg active:scale-95 active:bg-gray-700 transition transform\n                    duration-100 hover:bg-black hover:text-white ease-out\">Self-Contained</p>\n\n                    <p className=\"px-4 py-2 border rounded-full cursor-pointer\n                    hover:shadow-lg active:scale-95 active:bg-gray-700 transition transform\n                    duration-100 hover:bg-black hover:text-white ease-out\">Single Room</p>\n\n                    <p className=\"px-4 py-2 border rounded-full cursor-pointer\n                    hover:shadow-lg active:scale-95 active:bg-gray-700 transition transform\n                    hover:bg-black hover:text-white duration-100 ease-out\">Entire Flat</p>\n\n                    <p className=\"px-4 py-2 border rounded-full cursor-pointer\n                    hover:shadow-lg active:scale-95 active:bg-gray-700 transition transform\n                    hover:bg-black hover:text-white duration-100 ease-out\">Apartment</p>\n                </div>\n                <div className=\"flex flex-col\">\n\n                {datalist?.map(({id, oldPrice, bed, bedroom, newPrice, description, \n                image, longitude, latitude, type, title,}) => (\n              <InfoCard\n                key={id}\n                image={image}\n                title={title}\n                description={description}\n                longitude={longitude}\n                latitude={latitude}\n                newPrice={newPrice}\n                oldPrice={oldPrice}\n                bed={bed}\n                bedroom={bedroom}\n                id={id}\n                type={type}\n                \n              />\n          ))}\n\n                </div>\n                </section>\n\n            <section className=\"flex\">\n                    <SearchMap />\n            </section>\n            </main>\n        </div>\n    )\n}\n\nexport default SearchPage\n"]},"metadata":{},"sourceType":"module"}