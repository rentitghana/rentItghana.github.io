{"ast":null,"code":"var _jsxFileName = \"/Users/ebenobiri/rentitweb/src/screens/SearchPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { listPosts } from '../graphql/queries';\nimport Amplify, { API, graphqlOperation } from 'aws-amplify';\nimport InfoCard from '../components/InfoCard';\nimport SearchMap from '../components/SearchMap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction SearchPage(props) {\n  _s();\n\n  const [posts, setPosts] = useState([]);\n  const location = useLocation();\n  const nelatitude = location.state.nelatitude;\n  const swlatitude = location.state.swlatitude;\n  const nelongitude = location.state.nelongitude;\n  const swlongitude = location.state.swlongitude;\n  const title = location.state.title;\n  useEffect(() => {\n    const fetchPosts = async () => {\n      try {\n        const postsResult = await API.graphql(graphqlOperation(listPosts, {\n          filter: {\n            and: {\n              latitude: {\n                between: [// Latitude - (0.4/2),\n                // Latitude + (0.4/2),\n                swlatitude, nelatitude //viewport.southwest.lat,\n                //viewport.northeast.lat,\n                ]\n              },\n              longitude: {\n                between: [//   Longitude - (0.4/2),\n                //   Longitude + (0.4/2),\n                //viewport.southwest.lng,\n                //viewport.northeast.lng,\n                swlongitude, nelongitude]\n              }\n            }\n          }\n        }));\n        setPosts(postsResult.data.listPosts.items);\n      } catch (e) {\n        console.log(e);\n      }\n    };\n\n    fetchPosts();\n  }, []);\n  var initialPost = posts;\n\n  const filterList = () => {\n    initialPost = posts.filter(item => item.type === \"Full Home\");\n    console.log(initialPost.length);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"flex\",\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"flex-grow pt-14 px-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"flex text-4xl font-bold mt-2 mb-6\",\n          children: [posts.length, \" Homes available for rent,  \", title || '']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex mb-5 space-x-4 text-gray-800 whitespace-nowrap\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            onClick: filterList,\n            className: \"px-4 py-2 border rounded-full cursor-pointer hover:shadow-lg hover:bg-black hover:text-white active:scale-95 active:bg-gray-700 transition transform duration-100 ease-out\",\n            children: \"Full Home\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"px-4 py-2 border rounded-full cursor-pointer hover:shadow-lg active:scale-95 active:bg-gray-700 transition transform duration-100 hover:bg-black hover:text-white ease-out\",\n            children: \"Self-Contained\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"px-4 py-2 border rounded-full cursor-pointer hover:shadow-lg active:scale-95 active:bg-gray-700 transition transform duration-100 hover:bg-black hover:text-white ease-out\",\n            children: \"Single Room\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"px-4 py-2 border rounded-full cursor-pointer hover:shadow-lg active:scale-95 active:bg-gray-700 transition transform hover:bg-black hover:text-white duration-100 ease-out\",\n            children: \"Entire Flat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"px-4 py-2 border rounded-full cursor-pointer hover:shadow-lg active:scale-95 active:bg-gray-700 transition transform hover:bg-black hover:text-white duration-100 ease-out\",\n            children: \"Apartment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col\",\n          children: posts === null || posts === void 0 ? void 0 : posts.map(_ref => {\n            let {\n              id,\n              oldPrice,\n              bed,\n              bedroom,\n              newPrice,\n              description,\n              image,\n              longitude,\n              latitude,\n              type,\n              title\n            } = _ref;\n            return /*#__PURE__*/_jsxDEV(InfoCard, {\n              image: image,\n              title: title,\n              description: description,\n              longitude: longitude,\n              latitude: latitude,\n              newPrice: newPrice,\n              oldPrice: oldPrice,\n              bed: bed,\n              bedroom: bedroom,\n              id: id,\n              type: type\n            }, id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"flex\",\n        children: /*#__PURE__*/_jsxDEV(SearchMap, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 9\n  }, this);\n}\n\n_s(SearchPage, \"NGUBm8wgi0xIcDJSNcHqcKOsqKQ=\", false, function () {\n  return [useLocation];\n});\n\n_c = SearchPage;\nexport default SearchPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchPage\");","map":{"version":3,"sources":["/Users/ebenobiri/rentitweb/src/screens/SearchPage.js"],"names":["React","useEffect","useState","useLocation","listPosts","Amplify","API","graphqlOperation","InfoCard","SearchMap","SearchPage","props","posts","setPosts","location","nelatitude","state","swlatitude","nelongitude","swlongitude","title","fetchPosts","postsResult","graphql","filter","and","latitude","between","longitude","data","items","e","console","log","initialPost","filterList","item","type","length","map","id","oldPrice","bed","bedroom","newPrice","description","image"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport { useLocation } from 'react-router-dom';\nimport {listPosts} from '../graphql/queries'\nimport Amplify, { API, graphqlOperation } from 'aws-amplify'\nimport InfoCard from '../components/InfoCard';\nimport SearchMap from '../components/SearchMap';\nfunction SearchPage(props) {\n    const[posts, setPosts] = useState([]);\n    const location = useLocation();\n    const nelatitude = location.state.nelatitude;\n    const swlatitude = location.state.swlatitude;\n    const nelongitude = location.state.nelongitude;\n    const swlongitude = location.state.swlongitude;\n    const title = location.state.title;\n    useEffect ( () => {\n    const fetchPosts = async () => {\n        try{\n            const postsResult = await API.graphql(\n                graphqlOperation(listPosts, {\n\n                    filter: {\n                        and: {\n                            \n                            latitude: {\n                                between: [\n                                    // Latitude - (0.4/2),\n                                    // Latitude + (0.4/2),\n                                    \n                                    swlatitude,\n                                    nelatitude,\n                                    //viewport.southwest.lat,\n                                    //viewport.northeast.lat,\n                                ],\n                            },\n                            longitude: {\n                                between: [\n                                  \n                                //   Longitude - (0.4/2),\n                                //   Longitude + (0.4/2),\n                                    //viewport.southwest.lng,\n                                    //viewport.northeast.lng,\n                                    \n                                    swlongitude,\n                                    nelongitude,\n                                ],\n                            }\n                        }\n                        \n                    }\n                \n            })\n            )\n\n            setPosts(postsResult.data.listPosts.items);\n            \n        } catch (e){\n            console.log(e);\n        }\n    }\n\n    fetchPosts();\n}, [])\nvar initialPost = posts;\nconst filterList = () => {\n    initialPost = posts.filter(item => item.type === \"Full Home\");\n    console.log(initialPost.length)\n}\n\n    return (\n        <div>\n            <main className='flex'>\n                <section className=\"flex-grow pt-14 px-6\">\n\n                    <h1 className=\"flex text-4xl font-bold mt-2 mb-6\">{posts.length} Homes available for rent,  { title || ''}</h1>\n                \n                <div className=\"flex mb-5 space-x-4 text-gray-800 whitespace-nowrap\">\n                    <p onClick={filterList} className=\"px-4 py-2 border rounded-full cursor-pointer\n                    hover:shadow-lg hover:bg-black hover:text-white active:scale-95 active:bg-gray-700 transition transform\n                    duration-100 ease-out\">Full Home</p>\n\n                    <p className=\"px-4 py-2 border rounded-full cursor-pointer\n                    hover:shadow-lg active:scale-95 active:bg-gray-700 transition transform\n                    duration-100 hover:bg-black hover:text-white ease-out\">Self-Contained</p>\n\n                    <p className=\"px-4 py-2 border rounded-full cursor-pointer\n                    hover:shadow-lg active:scale-95 active:bg-gray-700 transition transform\n                    duration-100 hover:bg-black hover:text-white ease-out\">Single Room</p>\n\n                    <p className=\"px-4 py-2 border rounded-full cursor-pointer\n                    hover:shadow-lg active:scale-95 active:bg-gray-700 transition transform\n                    hover:bg-black hover:text-white duration-100 ease-out\">Entire Flat</p>\n\n                    <p className=\"px-4 py-2 border rounded-full cursor-pointer\n                    hover:shadow-lg active:scale-95 active:bg-gray-700 transition transform\n                    hover:bg-black hover:text-white duration-100 ease-out\">Apartment</p>\n                </div>\n                <div className=\"flex flex-col\">\n\n                {posts?.map(({id, oldPrice, bed, bedroom, newPrice, description, \n                image, longitude, latitude, type, title,}) => (\n              <InfoCard\n                key={id}\n                image={image}\n                title={title}\n                description={description}\n                longitude={longitude}\n                latitude={latitude}\n                newPrice={newPrice}\n                oldPrice={oldPrice}\n                bed={bed}\n                bedroom={bedroom}\n                id={id}\n                type={type}\n                \n              />\n          ))}\n\n                </div>\n                </section>\n\n            <section className=\"flex\">\n                    <SearchMap />\n            </section>\n            </main>\n        </div>\n    )\n}\n\nexport default SearchPage\n"]},"metadata":{},"sourceType":"module"}