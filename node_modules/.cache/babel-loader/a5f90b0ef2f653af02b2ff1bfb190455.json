{"ast":null,"code":"'use strict';\n\nvar _regeneratorRuntime = require(\"/Users/ebenobiri/rentitweb/node_modules/@babel/runtime/regenerator\");\n\nvar _slicedToArray = require(\"/Users/ebenobiri/rentitweb/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nvar _createForOfIteratorHelper = require(\"/Users/ebenobiri/rentitweb/node_modules/@babel/runtime/helpers/createForOfIteratorHelper\");\n\nvar _classCallCheck = require(\"/Users/ebenobiri/rentitweb/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/ebenobiri/rentitweb/node_modules/@babel/runtime/helpers/createClass\");\n\nvar QuickLRU = /*#__PURE__*/function (_Symbol$iterator) {\n  function QuickLRU() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, QuickLRU);\n\n    if (!(options.maxSize && options.maxSize > 0)) {\n      throw new TypeError('`maxSize` must be a number greater than 0');\n    }\n\n    this.maxSize = options.maxSize;\n    this.cache = new Map();\n    this.oldCache = new Map();\n    this._size = 0;\n  }\n\n  _createClass(QuickLRU, [{\n    key: \"_set\",\n    value: function _set(key, value) {\n      this.cache.set(key, value);\n      this._size++;\n\n      if (this._size >= this.maxSize) {\n        this._size = 0;\n        this.oldCache = this.cache;\n        this.cache = new Map();\n      }\n    }\n  }, {\n    key: \"get\",\n    value: function get(key) {\n      if (this.cache.has(key)) {\n        return this.cache.get(key);\n      }\n\n      if (this.oldCache.has(key)) {\n        var value = this.oldCache.get(key);\n        this.oldCache.delete(key);\n\n        this._set(key, value);\n\n        return value;\n      }\n    }\n  }, {\n    key: \"set\",\n    value: function set(key, value) {\n      if (this.cache.has(key)) {\n        this.cache.set(key, value);\n      } else {\n        this._set(key, value);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"has\",\n    value: function has(key) {\n      return this.cache.has(key) || this.oldCache.has(key);\n    }\n  }, {\n    key: \"peek\",\n    value: function peek(key) {\n      if (this.cache.has(key)) {\n        return this.cache.get(key);\n      }\n\n      if (this.oldCache.has(key)) {\n        return this.oldCache.get(key);\n      }\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(key) {\n      var deleted = this.cache.delete(key);\n\n      if (deleted) {\n        this._size--;\n      }\n\n      return this.oldCache.delete(key) || deleted;\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.cache.clear();\n      this.oldCache.clear();\n      this._size = 0;\n    }\n  }, {\n    key: \"keys\",\n    value: /*#__PURE__*/_regeneratorRuntime.mark(function keys() {\n      var _iterator, _step, _step$value, key;\n\n      return _regeneratorRuntime.wrap(function keys$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _iterator = _createForOfIteratorHelper(this);\n              _context.prev = 1;\n\n              _iterator.s();\n\n            case 3:\n              if ((_step = _iterator.n()).done) {\n                _context.next = 9;\n                break;\n              }\n\n              _step$value = _slicedToArray(_step.value, 1), key = _step$value[0];\n              _context.next = 7;\n              return key;\n\n            case 7:\n              _context.next = 3;\n              break;\n\n            case 9:\n              _context.next = 14;\n              break;\n\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](1);\n\n              _iterator.e(_context.t0);\n\n            case 14:\n              _context.prev = 14;\n\n              _iterator.f();\n\n              return _context.finish(14);\n\n            case 17:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, keys, this, [[1, 11, 14, 17]]);\n    })\n  }, {\n    key: \"values\",\n    value: /*#__PURE__*/_regeneratorRuntime.mark(function values() {\n      var _iterator2, _step2, _step2$value, value;\n\n      return _regeneratorRuntime.wrap(function values$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _iterator2 = _createForOfIteratorHelper(this);\n              _context2.prev = 1;\n\n              _iterator2.s();\n\n            case 3:\n              if ((_step2 = _iterator2.n()).done) {\n                _context2.next = 9;\n                break;\n              }\n\n              _step2$value = _slicedToArray(_step2.value, 2), value = _step2$value[1];\n              _context2.next = 7;\n              return value;\n\n            case 7:\n              _context2.next = 3;\n              break;\n\n            case 9:\n              _context2.next = 14;\n              break;\n\n            case 11:\n              _context2.prev = 11;\n              _context2.t0 = _context2[\"catch\"](1);\n\n              _iterator2.e(_context2.t0);\n\n            case 14:\n              _context2.prev = 14;\n\n              _iterator2.f();\n\n              return _context2.finish(14);\n\n            case 17:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, values, this, [[1, 11, 14, 17]]);\n    })\n  }, {\n    key: _Symbol$iterator,\n    value: /*#__PURE__*/_regeneratorRuntime.mark(function value() {\n      var _iterator3, _step3, item, _iterator4, _step4, _item, _item2, key;\n\n      return _regeneratorRuntime.wrap(function value$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _iterator3 = _createForOfIteratorHelper(this.cache);\n              _context3.prev = 1;\n\n              _iterator3.s();\n\n            case 3:\n              if ((_step3 = _iterator3.n()).done) {\n                _context3.next = 9;\n                break;\n              }\n\n              item = _step3.value;\n              _context3.next = 7;\n              return item;\n\n            case 7:\n              _context3.next = 3;\n              break;\n\n            case 9:\n              _context3.next = 14;\n              break;\n\n            case 11:\n              _context3.prev = 11;\n              _context3.t0 = _context3[\"catch\"](1);\n\n              _iterator3.e(_context3.t0);\n\n            case 14:\n              _context3.prev = 14;\n\n              _iterator3.f();\n\n              return _context3.finish(14);\n\n            case 17:\n              _iterator4 = _createForOfIteratorHelper(this.oldCache);\n              _context3.prev = 18;\n\n              _iterator4.s();\n\n            case 20:\n              if ((_step4 = _iterator4.n()).done) {\n                _context3.next = 28;\n                break;\n              }\n\n              _item = _step4.value;\n              _item2 = _slicedToArray(_item, 1), key = _item2[0];\n\n              if (this.cache.has(key)) {\n                _context3.next = 26;\n                break;\n              }\n\n              _context3.next = 26;\n              return _item;\n\n            case 26:\n              _context3.next = 20;\n              break;\n\n            case 28:\n              _context3.next = 33;\n              break;\n\n            case 30:\n              _context3.prev = 30;\n              _context3.t1 = _context3[\"catch\"](18);\n\n              _iterator4.e(_context3.t1);\n\n            case 33:\n              _context3.prev = 33;\n\n              _iterator4.f();\n\n              return _context3.finish(33);\n\n            case 36:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, value, this, [[1, 11, 14, 17], [18, 30, 33, 36]]);\n    })\n  }, {\n    key: \"size\",\n    get: function get() {\n      var oldCacheSize = 0;\n\n      var _iterator5 = _createForOfIteratorHelper(this.oldCache.keys()),\n          _step5;\n\n      try {\n        for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n          var key = _step5.value;\n\n          if (!this.cache.has(key)) {\n            oldCacheSize++;\n          }\n        }\n      } catch (err) {\n        _iterator5.e(err);\n      } finally {\n        _iterator5.f();\n      }\n\n      return this._size + oldCacheSize;\n    }\n  }]);\n\n  return QuickLRU;\n}(Symbol.iterator);\n\nmodule.exports = QuickLRU;","map":{"version":3,"sources":["/Users/ebenobiri/rentitweb/node_modules/camelcase-keys/node_modules/quick-lru/index.js"],"names":["QuickLRU","options","maxSize","TypeError","cache","Map","oldCache","_size","key","value","set","has","get","delete","_set","deleted","clear","item","oldCacheSize","keys","Symbol","iterator","module","exports"],"mappings":"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","sourcesContent":["'use strict';\n\nclass QuickLRU {\n\tconstructor(options = {}) {\n\t\tif (!(options.maxSize && options.maxSize > 0)) {\n\t\t\tthrow new TypeError('`maxSize` must be a number greater than 0');\n\t\t}\n\n\t\tthis.maxSize = options.maxSize;\n\t\tthis.cache = new Map();\n\t\tthis.oldCache = new Map();\n\t\tthis._size = 0;\n\t}\n\n\t_set(key, value) {\n\t\tthis.cache.set(key, value);\n\t\tthis._size++;\n\n\t\tif (this._size >= this.maxSize) {\n\t\t\tthis._size = 0;\n\t\t\tthis.oldCache = this.cache;\n\t\t\tthis.cache = new Map();\n\t\t}\n\t}\n\n\tget(key) {\n\t\tif (this.cache.has(key)) {\n\t\t\treturn this.cache.get(key);\n\t\t}\n\n\t\tif (this.oldCache.has(key)) {\n\t\t\tconst value = this.oldCache.get(key);\n\t\t\tthis.oldCache.delete(key);\n\t\t\tthis._set(key, value);\n\t\t\treturn value;\n\t\t}\n\t}\n\n\tset(key, value) {\n\t\tif (this.cache.has(key)) {\n\t\t\tthis.cache.set(key, value);\n\t\t} else {\n\t\t\tthis._set(key, value);\n\t\t}\n\n\t\treturn this;\n\t}\n\n\thas(key) {\n\t\treturn this.cache.has(key) || this.oldCache.has(key);\n\t}\n\n\tpeek(key) {\n\t\tif (this.cache.has(key)) {\n\t\t\treturn this.cache.get(key);\n\t\t}\n\n\t\tif (this.oldCache.has(key)) {\n\t\t\treturn this.oldCache.get(key);\n\t\t}\n\t}\n\n\tdelete(key) {\n\t\tconst deleted = this.cache.delete(key);\n\t\tif (deleted) {\n\t\t\tthis._size--;\n\t\t}\n\n\t\treturn this.oldCache.delete(key) || deleted;\n\t}\n\n\tclear() {\n\t\tthis.cache.clear();\n\t\tthis.oldCache.clear();\n\t\tthis._size = 0;\n\t}\n\n\t* keys() {\n\t\tfor (const [key] of this) {\n\t\t\tyield key;\n\t\t}\n\t}\n\n\t* values() {\n\t\tfor (const [, value] of this) {\n\t\t\tyield value;\n\t\t}\n\t}\n\n\t* [Symbol.iterator]() {\n\t\tfor (const item of this.cache) {\n\t\t\tyield item;\n\t\t}\n\n\t\tfor (const item of this.oldCache) {\n\t\t\tconst [key] = item;\n\t\t\tif (!this.cache.has(key)) {\n\t\t\t\tyield item;\n\t\t\t}\n\t\t}\n\t}\n\n\tget size() {\n\t\tlet oldCacheSize = 0;\n\t\tfor (const key of this.oldCache.keys()) {\n\t\t\tif (!this.cache.has(key)) {\n\t\t\t\toldCacheSize++;\n\t\t\t}\n\t\t}\n\n\t\treturn this._size + oldCacheSize;\n\t}\n}\n\nmodule.exports = QuickLRU;\n"]},"metadata":{},"sourceType":"script"}